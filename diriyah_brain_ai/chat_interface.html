<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diriyah Brain AI</title>
    <link rel="stylesheet" href="/static/chat-style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-building"></i>
                    <span>Diriyah Brain AI</span>
                </div>
            </div>
            
            <div class="sidebar-content">
                <!-- New Chat Button -->
                <button class="new-chat-btn" onclick="createNewChat()">
                    <i class="fas fa-plus"></i>
                    New Chat
                </button>
                
                <!-- Projects Section -->
                <div class="section">
                    <h3><i class="fas fa-project-diagram"></i> Projects</h3>
                    <div class="project-list">
                        <div class="project-item active" data-project="heritage-resort">
                            <i class="fas fa-hotel"></i>
                            <span>Heritage Resort</span>
                        </div>
                        <div class="project-item" data-project="infrastructure">
                            <i class="fas fa-road"></i>
                            <span>Infrastructure MC0A</span>
                        </div>
                        <div class="project-item" data-project="residential">
                            <i class="fas fa-home"></i>
                            <span>Residential Complex</span>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Chats -->
                <div class="section">
                    <h3><i class="fas fa-comments"></i> Recent Chats</h3>
                    <div class="chat-list">
                        <div class="chat-item active">
                            <i class="fas fa-comment"></i>
                            <span>Project Status Discussion</span>
                        </div>
                        <div class="chat-item">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Safety Alert Review</span>
                        </div>
                        <div class="chat-item">
                            <i class="fas fa-chart-line"></i>
                            <span>Budget Analysis</span>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Tasks -->
                <div class="section">
                    <h3><i class="fas fa-tasks"></i> Quick Tasks</h3>
                    <div class="task-list">
                        <button class="task-btn" onclick="createTask('inspection')">
                            <i class="fas fa-search"></i>
                            Schedule Inspection
                        </button>
                        <button class="task-btn" onclick="createTask('report')">
                            <i class="fas fa-file-alt"></i>
                            Generate Report
                        </button>
                        <button class="task-btn" onclick="createTask('alert')">
                            <i class="fas fa-bell"></i>
                            Create Alert
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Chat Area -->
        <div class="main-content">
            <div class="chat-header">
                <div class="project-info">
                    <h2 id="current-project">Heritage Resort</h2>
                    <span class="status-indicator">
                        <i class="fas fa-circle"></i>
                        Active Project
                    </span>
                </div>
                <div class="header-actions">
                    <button class="action-btn" onclick="toggleAlerts()">
                        <i class="fas fa-bell"></i>
                        <span class="alert-count">3</span>
                    </button>
                    <button class="action-btn" onclick="showProjectOverview()">
                        <i class="fas fa-chart-bar"></i>
                    </button>
                </div>
            </div>
            
            <!-- Alert Banner (hidden by default) -->
            <div class="alert-banner" id="alert-banner" style="display: none;">
                <div class="alert-item urgent">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Safety inspection required for Block A foundation</span>
                    <button onclick="dismissAlert(this)"><i class="fas fa-times"></i></button>
                </div>
            </div>
            
            <!-- Chat Messages -->
            <div class="chat-container" id="chat-container">
                <div class="welcome-message">
                    <div class="diriyah-logo">
                        <i class="fas fa-building"></i>
                    </div>
                    <h3>Welcome to Diriyah Brain AI</h3>
                    <p>Your intelligent construction project assistant. Ask me anything about your projects, schedules, budgets, or safety concerns.</p>
                    
                    <div class="quick-suggestions">
                        <button class="suggestion-btn" onclick="sendQuickMessage('What is the current status of Heritage Resort?')">
                            üìä Project Status
                        </button>
                        <button class="suggestion-btn" onclick="sendQuickMessage('Show me any safety alerts')">
                            ‚ö†Ô∏è Safety Alerts
                        </button>
                        <button class="suggestion-btn" onclick="sendQuickMessage('What is the budget status?')">
                            üí∞ Budget Overview
                        </button>
                        <button class="suggestion-btn" onclick="sendQuickMessage('Show me the latest BIM updates')">
                            üèóÔ∏è BIM Updates
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Chat Input -->
            <div class="chat-input-container">
                <div class="input-wrapper">
                    <button class="attach-btn" onclick="showAttachMenu()">
                        <i class="fas fa-plus"></i>
                    </button>
                    <input type="text" id="chat-input" placeholder="Ask me anything about your projects..." onkeypress="handleKeyPress(event)">
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <!-- Attach Menu (hidden by default) -->
                <div class="attach-menu" id="attach-menu" style="display: none;">
                    <button onclick="attachFile('document')">
                        <i class="fas fa-file-alt"></i>
                        Document
                    </button>
                    <button onclick="attachFile('image')">
                        <i class="fas fa-image"></i>
                        Image
                    </button>
                    <button onclick="attachFile('cad')">
                        <i class="fas fa-drafting-compass"></i>
                        CAD File
                    </button>
                    <button onclick="attachFile('bim')">
                        <i class="fas fa-cube"></i>
                        BIM Model
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Hidden file input -->
    <input type="file" id="file-input" style="display: none;" onchange="handleFileUpload(event)">
    
    <script src="/static/chat-script.js"></script>
</body>
</html>

