<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diriyah Brain AI</title>
    <link rel="stylesheet" href="/static/chat-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="/static/diriyah-logo.png" alt="Diriyah Logo" class="diriyah-logo-img">
                    <span>Diriyah Brain AI</span>
                </div>
            </div>
            
            <div class="sidebar-content">
                <!-- New Chat Button -->
                <button class="new-chat-btn" onclick="startNewChat()">
                    <i class="fas fa-plus"></i>
                    New Chat
                </button>
                
                <!-- Projects Section -->
                <div class="sidebar-section">
                    <h4><i class="fas fa-building"></i> PROJECTS</h4>
                    <div class="project-list">
                        <div class="project-item active" onclick="selectProject('heritage')">
                            <i class="fas fa-hotel"></i>
                            <span>Heritage Resort</span>
                        </div>
                        <div class="project-item" onclick="selectProject('infrastructure')">
                            <i class="fas fa-road"></i>
                            <span>Infrastructure MCOA</span>
                        </div>
                        <div class="project-item" onclick="selectProject('residential')">
                            <i class="fas fa-home"></i>
                            <span>Residential Complex</span>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Chats -->
                <div class="sidebar-section">
                    <h4><i class="fas fa-comments"></i> RECENT CHATS</h4>
                    <div class="chat-list">
                        <div class="chat-item" onclick="loadChat('status')">
                            <i class="fas fa-comment"></i>
                            <span>Project Status Discussion</span>
                        </div>
                        <div class="chat-item" onclick="loadChat('safety')">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Safety Alert Review</span>
                        </div>
                        <div class="chat-item" onclick="loadChat('budget')">
                            <i class="fas fa-chart-line"></i>
                            <span>Budget Analysis</span>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Tasks -->
                <div class="sidebar-section">
                    <h4><i class="fas fa-tasks"></i> QUICK TASKS</h4>
                    <div class="task-list">
                        <button class="task-btn" onclick="scheduleInspection()">
                            <i class="fas fa-calendar-check"></i>
                            Schedule Inspection
                        </button>
                        <button class="task-btn" onclick="generateReport()">
                            <i class="fas fa-file-alt"></i>
                            Generate Report
                        </button>
                        <button class="task-btn" onclick="createAlert()">
                            <i class="fas fa-bell"></i>
                            Create Alert
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="main-content">
            <!-- Chat Messages -->
            <div class="chat-container" id="chat-container">
                <div class="welcome-message">
                    <h3>Welcome to Diriyah Brain AI</h3>
                    <p>Your intelligent construction project assistant. Ask me anything about your projects, schedules, budgets, or safety concerns.</p>
                </div>
            </div>
            
            <!-- Chat Input -->
            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <div class="upload-menu-container">
                        <button class="upload-btn" onclick="toggleUploadMenu()" title="Upload files or connect services">
                            <i class="fas fa-plus"></i>
                        </button>
                        <div class="upload-menu" id="upload-menu" style="display: none;">
                            <div class="upload-option" onclick="document.getElementById('file-input').click()">
                                <i class="fas fa-file"></i>
                                <span>Upload File</span>
                            </div>
                            <div class="upload-option" onclick="connectGoogleDrive()">
                                <i class="fab fa-google-drive"></i>
                                <span>Connect Google Drive</span>
                            </div>
                            <div class="upload-option" onclick="openCamera()">
                                <i class="fas fa-camera"></i>
                                <span>Take Photo</span>
                            </div>
                            <div class="upload-option" onclick="toggleRecording()">
                                <i class="fas fa-microphone"></i>
                                <span>Voice Message</span>
                            </div>
                        </div>
                    </div>
                    <input type="text" id="chat-input" placeholder="Ask me anything about your projects..." onkeypress="handleKeyPress(event)">
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bottom Sidebar - Manus Style -->
    <div class="bottom-sidebar">
        <div class="bottom-feature" onclick="openSettings()" title="Settings">
            <i class="fas fa-sliders-h"></i>
            <span>Settings</span>
        </div>
        <div class="bottom-feature" onclick="openHelp()" title="Help">
            <i class="fas fa-question-circle"></i>
            <span>Help</span>
        </div>
        <div class="bottom-feature" onclick="goHome()" title="Home">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </div>
        <div class="bottom-feature" onclick="openSupport()" title="Support">
            <i class="fas fa-life-ring"></i>
            <span>Support</span>
        </div>
        <div class="bottom-feature" onclick="openProfile()" title="Profile">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </div>
    </div>
    
    <!-- Hidden file input -->
    <input type="file" id="file-input" style="display: none;" accept="*/*" onchange="handleFileUpload(event)">
    
    <!-- Hidden camera input -->
    <input type="file" id="camera-input" style="display: none;" accept="image/*" capture="environment" onchange="handleCameraCapture(event)">
    
    <script src="/static/chat-script.js"></script>
    <script src="/static/enhanced-drive.js"></script>
</body>
</html>

